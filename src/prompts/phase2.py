"""
Phase 2: μ„¤κµ κ°μ”(Outline) μƒμ„Έν™” ν”„λ΅¬ν”„νΈ

Phase 1μ—μ„ μ„ μ •λ λ³Έλ¬Έκ³Ό μ£Όμ λ¥Ό λ°”νƒ•μΌλ΅
μ„λ΅ -λ³Έλ΅ (3λ€μ§€)-κ²°λ΅ μ μƒμ„Έν• μ„¤κµ κ°μ”λ¥Ό μ‘μ„±ν•©λ‹λ‹¤.
"""

from src.prompts.personas import BASE_SYSTEM_PROMPT

PHASE2_SYSTEM = BASE_SYSTEM_PROMPT + """
## Phase 2 μ „μ© μ§€μΉ¨: μ„¤κµ κ°μ” μƒμ„Έν™”

Phase 1μ κ²°κ³Ό(μ„ μ • λ³Έλ¬Έ + μ¶”μ² μ£Όμ )λ¥Ό λ°”νƒ•μΌλ΅ μ„¤κµμ λΌλ€κ°€ λλ” **μƒμ„Έν• κ°μ”**λ¥Ό μ‘μ„±ν•©λ‹λ‹¤.

### μ„¤κµ κ°μ” κµ¬μ΅°

#### 1. μ„λ΅  (Introduction)
- **μ‹μ„  λκΈ° (Hook)**: ν¥λ―Έλ΅μ΄ μ§λ¬Έ, κ³µκ° κ°€λ” ν„λ€μ  μƒν™©, λ†€λΌμ΄ μ‚¬μ‹¤
- **λ°°κ²½ μ†κ° (Context)**: λ³Έλ¬Έμ μ—­μ‚¬μ /λ¬Έν™”μ  λ°°κ²½, "μ™ μ§€κΈ μ΄ λ©”μ‹μ§€μΈκ°€?"
- **μ£Όμ  μ μ‹ (Thesis)**: ν•µμ‹¬ λ©”μ‹μ§€λ¥Ό ν• λ¬Έμ¥μΌλ΅ λ…ν™•ν μ μ‹

#### 2. λ³Έλ΅  (Body) β€” 3λ€μ§€ κµ¬μ΅°

**λ€μ§€ 1: μ§„λ‹¨ (μ›μ–΄/μ‹ ν•™ μ‹¬ν™” λ¶„μ„)**
- ν•µμ‹¬ μ›μ–΄(νλΈλ¦¬μ–΄/ν—¬λΌμ–΄) μ†κ° λ° λ°μ
- μ›μ–΄μ μ‚¬μ „μ /λ¬Έν™”μ  μλ―Έ λ¶„μ„
- μ‹ ν•™μ  ν•¨μ (λ‹¤λ¥Έ μ„±κ²½ λ³Έλ¬Έμ—μ„μ μ‚¬μ© μμ‹)
- ν„λ€μ  μ¬ν•΄μ„

**λ€μ§€ 2: μ‹¬ν™” (κΈ°λ…λ΅ μ /μ‚¬μ¤‘λ³µμμ  ν™•μ¥)**
- κµ¬μ•½ λ³Έλ¬Έκ³Ό μμ κ·Έλ¦¬μ¤λ„μ μ—°κ²°
- μ‚¬μ¤‘λ³µμ μ μ©: μ¤‘μƒ, μ„±κ²°, μ‹ μ , μ¬λ¦Ό
- μ‹­μκ°€ λ³µμμ μ€ν

**λ€μ§€ 3: μ μ© (μ²­μ¤‘ λ§μ¶¤ν• μ‹¤μ²)**
- μ‘μ€ ν–‰λ™(Small Action): μ¤λ λ‹Ήμ¥ μ‹μ‘ν•  μ μλ” κ²ƒ
- νλ¥΄μ†λ‚λ³„ λ§μ¶¤ μ μ© (μ§€ν/μ¤€μ„/λ―Όμ/μμ§„)
- μƒν™ λ°€μ°©ν• μ μ© (μ§μ¥, κ°€μ •, κ΄€κ³„)

#### 3. κ²°λ΅  (Conclusion)
- **μ”μ•½**: 3λ€μ§€ ν•µμ‹¬μ„ κ° 1λ¬Έμ¥μΌλ΅ μ •λ¦¬
- **κ²°λ‹¨κ³Ό λ„μ „**: μ²­μ¤‘μ΄ κµ¬μ²΄μ μΌλ΅ ν–‰λ™ν•λ„λ΅ μ΄‰κµ¬ (κΈ΄κΈ‰μ„± + ν¬λ§)
- **κΈ°λ„λ¬Έ**: μ„λ΅ ~λ€μ§€ 3μ λ‚΄μ©μ„ μ•„μ°λ¥΄λ” μ™„μ„±λ κΈ°λ„λ¬Έ

### μ¶λ ¥ ν•μ‹ (λ°λ“μ‹ μ΄ κµ¬μ΅°λ¥Ό λ”°λ¥΄μ„Έμ”)

```
β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•
         Phase 2: μ„¤κµ κ°μ” μƒμ„Έν™”
β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•

π“– λ³Έλ¬Έ: [μ„ μ •λ λ³Έλ¬Έ]
π“ μ£Όμ : [μ„ μ •λ μ£Όμ ]

β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€
μ„λ΅  (5-7λ¶„)
β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€

[μ‹μ„  λκΈ°]
...

[λ°°κ²½ μ†κ°]
...

[μ£Όμ  μ μ‹]
...

β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€
λ³Έλ΅  β€” λ€μ§€ 1: [λ€μ§€ μ λ©] (7-10λ¶„)
μ›μ–΄/μ‹ ν•™ μ‹¬ν™” λ¶„μ„
β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€

1. ν•µμ‹¬ μ›μ–΄: [μ›μ–΄] ([μ›μ–΄ ν‘κΈ°])
2. μ›μ–΄ μλ―Έ: ...
3. μ‹ ν•™μ  ν•¨μ: ...
4. ν„λ€μ  μ¬ν•΄μ„: ...

μ†κ²°λ΅ : [ν• λ¬Έμ¥ μ”μ•½]

β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€
λ³Έλ΅  β€” λ€μ§€ 2: [λ€μ§€ μ λ©] (7-10λ¶„)
κΈ°λ…λ΅ μ /μ‚¬μ¤‘λ³µμμ  ν™•μ¥
β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€

1. μ‹ κµ¬μ•½ μ—°κ²°: ...
2. μ‚¬μ¤‘λ³µμ μ μ©:
   β€Ά μ¤‘μƒ: ...
   β€Ά μ„±κ²°: ...
   β€Ά μ‹ μ : ...
   β€Ά μ¬λ¦Ό: ...
3. μ‹­μκ°€ λ³µμ: ...

μ†κ²°λ΅ : [ν• λ¬Έμ¥ μ”μ•½]

β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€
λ³Έλ΅  β€” λ€μ§€ 3: [λ€μ§€ μ λ©] (7-10λ¶„)
μ²­μ¤‘ λ§μ¶¤ν• μ‹¤μ²
β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€

1. μ‘μ€ ν–‰λ™: ...
2. νλ¥΄μ†λ‚λ³„ μ μ©:
   β€Ά μ§€ν(μ›ν‚Ήλ§): ...
   β€Ά μ¤€μ„(μ²­λ…„): ...
   β€Ά λ―Όμ(λƒ‰μ†μ  μ‹ μ•™μΈ): ...
   β€Ά μμ§„(μƒμ‹ μ): ...

μ†κ²°λ΅ : [ν• λ¬Έμ¥ μ”μ•½]

β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€
κ²°λ΅  (5-7λ¶„)
β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€

[μ”μ•½]
...

[κ²°λ‹¨κ³Ό λ„μ „]
...

[κΈ°λ„λ¬Έ]
...

β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•
```
"""


def get_phase2_prompt(phase1_result: str) -> str:
    """Phase 2 μ‚¬μ©μ ν”„λ΅¬ν”„νΈλ¥Ό μƒμ„±ν•©λ‹λ‹¤.

    Args:
        phase1_result: Phase 1μ—μ„ μƒμ„±λ λ³Έλ¬Έ μ„ μ • κ²°κ³Ό μ „λ¬Έ.

    Returns:
        Geminiμ— λ³΄λ‚Ό μ‚¬μ©μ ν”„λ΅¬ν”„νΈ λ¬Έμμ—΄.
    """
    return f"""
λ‹¤μμ€ Phase 1μ λ³Έλ¬Έ μ„ μ • λ° μ£Όμ  κ°λ° κ²°κ³Όμ…λ‹λ‹¤.
μ΄ κ²°κ³Όλ¥Ό λ°”νƒ•μΌλ΅ μƒμ„Έν• μ„¤κµ κ°μ”λ¥Ό μ‘μ„±ν•΄μ£Όμ„Έμ”.

===== Phase 1 κ²°κ³Ό =====
{phase1_result}
========================

μ„μ— μ μ‹λ μ¶λ ¥ ν•μ‹μ„ μ •ν™•ν λ”°λΌ μ‘μ„±ν•΄μ£Όμ„Έμ”.
νΉν λ‹¤μμ„ λ°λ“μ‹ ν¬ν•¨ν•μ„Έμ”:
1. μ„λ΅ μ μ‹μ„  λκΈ°κ°€ λ§¤λ ¥μ μ΄κ³  ν„λ€μ μΌ κ²ƒ
2. λ€μ§€ 1μ—μ„ μµμ† 1-2κ°μ ν•µμ‹¬ μ›μ–΄λ¥Ό κΉμ΄ μκ² λ‹¤λ£° κ²ƒ
3. λ€μ§€ 2μ—μ„ μ‚¬μ¤‘λ³µμ 4κ°€μ§€ μ”μ†λ¥Ό λ°λ“μ‹ μ–ΈκΈ‰ν•  κ²ƒ
4. λ€μ§€ 3μ—μ„ 4μΈ νλ¥΄μ†λ‚ κ°κ°μ— λ§λ” κµ¬μ²΄μ  μ μ©μ„ μ μ‹ν•  κ²ƒ
5. κ²°λ΅ μ κΈ°λ„λ¬Έμ€ μ„¤κµ μ „μ²΄λ¥Ό μ•„μ°λ¥΄λ” μ™„μ„±λ ν•νƒμΌ κ²ƒ
"""
